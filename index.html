<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>CellerChan's Blog</title>
  <link rel="stylesheet" href="./resource/styles/common/normalize.css">
  <link rel="stylesheet" href="./resource/styles/index.css">
</head>
<body class="index-container">
  <div class="header">
    <div class="title">
      CellerChan's Blog
    </div>
    <div class="header-nav">
      <div class="nav-item" id="random_lunch">今天吃什么</div>
      <div class="nav-item" id="music_player">音乐</div>
      <div class="nav-item">前端</div>
      <div class="nav-item" id="goto_cellerchan">cellerchan</div>
      <div class="nav-item" id="goto_cellerchan_web">cellerchan_web</div>
    </div>
  </div>

  <script>

    var insideLinks = {
      randomLunch: './random_lunch/index.html',
      musicPlayer: './music_player/index.html',
    }

    var friendsLinks = {
      cellerchanWeb: 'https://cellerchan-web.github.io/',
      cellerchan: 'https://cellerchan.github.io'
    }

    var linkEnum = [
      {
        sign: 'random_lunch',
        name: '今天吃什么',
        url: insideLinks.randomLunch,
      },
      {
        sign: 'music_player',
        url: insideLinks.musicPlayer,
        name: '音乐',
      },
      {
        sign: 'goto_cellerchan',
        name: 'cellerchan',
        url: friendsLinks.cellerchan
      },
      {
        sign: 'goto_cellerchan_web',
        name: 'cellerchan_web',
        url: friendsLinks.cellerchanWeb
      }
    ]

    // var linkEnum = {
    //   'random_lunch': insideLinks.randomLunch,
    //   'music_player': insideLinks.musicPlayer,
    //   'goto_cellerchan': friendsLinks.cellerchan,
    //   'goto_cellerchan_web': friendsLinks.cellerchanWeb
    // }

    window.onload = function(){

      // 循环显示页面DOM
      var linkBox = document.querySelector('.header-nav')
      var _html = ''
      for (let i = 0; i < linkEnum.length; i++) {
        var item = linkEnum[i];
        _html += '<div class="nav-item" data-url="'+ item.url +'">'+ item.name +'</div>'
      }

      // 绑定点击事件
      var navItems = document.querySelectorAll('.nav-item')
      for ( var i=0; i<navItems.length; i++ ) {
        var item = navItems[i]
        item.onclick = function(){
          console.log(this)
          var curUrl = this.getAttribute('data-url')
          window.location.assign(curUrl)
        }
      }

      // for ( var k in linkEnum ) {
      //   document.getElementById([k]).onclick = function(e){
      //     var curId = this.getAttribute('id')
      //     window.location.assign(linkEnum[curId])
      //   }
      // }
    }
  </script>

</body>
</html>